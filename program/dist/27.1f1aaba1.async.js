webpackJsonp([27],{685:function(t,e,r){"use strict";function a(t){return n.apply(this,arguments)}function n(){return n=w()(v.a.mark(function t(e){var r,a,n,o,s,c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.params,a=e.offset,n=void 0===a?0:a,o=e.limit,s=void 0===o?10:o,c=_.a.get("access_token"),t.abrupt("return",Object(O.a)("".concat(j.a,"/goods?offset=").concat(n,"&limit=").concat(s,"&").concat(z.e.toQueryString(r)),{headers:{Authorization:c}}));case 3:case"end":return t.stop()}},t,this)})),n.apply(this,arguments)}function o(t){return s.apply(this,arguments)}function s(){return s=w()(v.a.mark(function t(e){var r,a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.data,a=_.a.get("access_token"),t.abrupt("return",Object(O.a)("".concat(j.a,"/goods"),{method:"post",headers:{Authorization:a},data:b()({},r)}));case 3:case"end":return t.stop()}},t,this)})),s.apply(this,arguments)}function c(t){return u.apply(this,arguments)}function u(){return u=w()(v.a.mark(function t(e){var r,a,n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.goodId,a=e.goodStatus,n=_.a.get("access_token"),t.abrupt("return",Object(O.a)("".concat(j.a,"/goods/").concat(r,"/publish_status"),{method:"put",headers:{Authorization:n},data:{is_publish:a}}));case 3:case"end":return t.stop()}},t,this)})),u.apply(this,arguments)}function i(t){return p.apply(this,arguments)}function p(){return p=w()(v.a.mark(function t(e){var r,a,n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.goodId,a=e.data,n=_.a.get("access_token"),t.abrupt("return",Object(O.a)("".concat(j.a,"/goods/").concat(r),{method:"put",headers:{Authorization:n},data:b()({},a)}));case 3:case"end":return t.stop()}},t,this)})),p.apply(this,arguments)}function f(t){return d.apply(this,arguments)}function d(){return d=w()(v.a.mark(function t(e){var r,a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.goodId,a=_.a.get("access_token"),t.abrupt("return",Object(O.a)("".concat(j.a,"/goods/").concat(r),{method:"get",headers:{Authorization:a}}));case 3:case"end":return t.stop()}},t,this)})),d.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=w()(v.a.mark(function t(e){var r,a,n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.module,a=e.goodId,n=_.a.get("access_token"),t.abrupt("return",Object(O.a)("".concat(j.a,"/operationlogs?module=").concat(r,"&object_id=").concat(a),{method:"get",headers:{Authorization:n}}));case 3:case"end":return t.stop()}},t,this)})),h.apply(this,arguments)}function y(t){return x.apply(this,arguments)}function x(){return x=w()(v.a.mark(function t(e){var r,a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fields,a=_.a.get("access_token"),t.abrupt("return",Object(O.a)("".concat(j.a,"/goods_reports"),{method:"post",headers:{Authorization:a},data:{fields:r}}));case 3:case"end":return t.stop()}},t,this)})),x.apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0});var g=r(42),b=r.n(g),k=r(96),v=r.n(k),m=r(189),w=r.n(m),I=r(127),_=r.n(I),O=r(320),j=r(97),z=r(309);e.default={namespace:"good",state:{list:[],detail:{},logs:[],total:0},effects:{fetch:v.a.mark(function t(e,r){var n,o,s,c,u,i,p,f,d;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,o=e.offset,s=e.limit,c=e.success,u=e.error,i=r.call,p=r.put,t.next=4,i(a,{offset:o,limit:s,params:n});case 4:if(f=t.sent,f.rescode>>0!==j.g){t.next=9;break}"function"==typeof c&&c(f),t.next=12;break;case 9:if("function"!=typeof u){t.next=12;break}return u(f),t.abrupt("return");case 12:return d=f.headers,t.next=15,p({type:"save",payload:f.data,headers:d});case 15:case"end":return t.stop()}},t,this)}),fetchDetail:v.a.mark(function t(e,r){var a,n,o,s,c,u;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.goodId,n=e.success,o=e.error,s=r.call,c=r.put,t.next=4,s(f,{goodId:a});case 4:if(u=t.sent,u.rescode>>0!==j.g){t.next=9;break}"function"==typeof n&&n(u),t.next=12;break;case 9:if("function"!=typeof o){t.next=12;break}return o(u),t.abrupt("return");case 12:return t.next=14,c({type:"saveDetail",payload:u.data});case 14:case"end":return t.stop()}},t,this)}),add:v.a.mark(function t(e,r){var n,s,c,u,i,p,f;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,s=e.success,c=e.error,u=r.call,i=r.put,t.next=4,u(o,{data:n});case 4:if(p=t.sent,p.rescode>>0!==j.g){t.next=9;break}"function"==typeof s&&s(p),t.next=12;break;case 9:if("function"!=typeof c){t.next=12;break}return c(p),t.abrupt("return");case 12:return t.next=14,u(a,{});case 14:return f=t.sent,t.next=17,i({type:"saveOne",payload:f.data});case 17:case"end":return t.stop()}},t,this)}),modifyInfo:v.a.mark(function t(e,r){var n,o,s,c,u,p,f,d;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.goodId,o=e.data,s=e.success,c=e.error,u=r.call,p=r.put,t.next=4,u(i,{goodId:n,data:o});case 4:return f=t.sent,f.rescode>>0===j.g?"function"==typeof s&&s(f):"function"==typeof c&&c(f),t.next=8,u(a,{});case 8:return d=t.sent,t.next=11,p({type:"modify",payload:d.data});case 11:case"end":return t.stop()}},t,this)}),modifyGoodStatus:v.a.mark(function t(e,r){var n,o,s,u,i,p,f,d;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.goodId,o=e.goodStatus,s=e.success,u=e.error,i=r.call,p=r.put,t.next=4,i(c,{goodId:n,goodStatus:o});case 4:if(f=t.sent,f.rescode>>0!==j.g){t.next=9;break}"function"==typeof s&&s(f),t.next=12;break;case 9:if("function"!=typeof u){t.next=12;break}return u(f),t.abrupt("return");case 12:return t.next=14,i(a,{});case 14:return d=t.sent,t.next=17,p({type:"modify",payload:d.data});case 17:case"end":return t.stop()}},t,this)}),queryLogs:v.a.mark(function t(e,r){var a,n,o,s,c,u,i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.module,n=e.goodId,o=e.success,s=e.error,c=r.call,u=r.put,t.next=4,c(l,{module:a,goodId:n});case 4:if(i=t.sent,i.rescode>>0!==j.g){t.next=9;break}"function"==typeof o&&o(i),t.next=12;break;case 9:if("function"!=typeof s){t.next=12;break}return s(i),t.abrupt("return");case 12:return t.next=14,u({type:"logs",payload:i.data});case 14:case"end":return t.stop()}},t,this)}),queryExport:v.a.mark(function t(e,r){var a,n,o,s,c,u;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.fields,n=e.success,o=e.error,s=r.call,c=r.put,t.next=4,s(y,{fields:a});case 4:if(u=t.sent,u.rescode>>0!==j.g){t.next=9;break}"function"==typeof n&&n(u),t.next=12;break;case 9:if("function"!=typeof o){t.next=12;break}return o(u),t.abrupt("return");case 12:return t.next=14,c({type:"export",payload:u.data});case 14:case"end":return t.stop()}},t,this)})},reducers:{save:function(t,e){return b()({},t,{list:e.payload,total:e.headers["x-content-total"]>>0})},saveDetail:function(t,e){return b()({},t,{detail:e.payload})},saveOne:function(t,e){return b()({},t,{list:e.payload})},modify:function(t,e){return b()({},t,{list:e.payload})},remove:function(t,e){return b()({},t,{list:e.payload})},logs:function(t,e){return b()({},t,{logs:e.payload})},export:function(t,e){return b()({},t,{export:e.payload})}}}}});